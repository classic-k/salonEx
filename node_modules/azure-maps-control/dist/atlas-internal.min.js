
!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports):"function"==typeof define&&define.amd?define(["exports"],o):o((t=t||self).atlas=t.atlas||{})}(this,function(t){"use strict";var o=(e.prototype.getLuminosity=function(){for(var t=[this.r,this.g,this.b],o=[],e=0;e<t.length;e++){var r=t[e]/255;o[e]=r<=.03928?r/12.92:Math.pow((.055+r)/1.055,2.4)}return.2126*o[0]+.7152*o[1]+.0722*o[2]},e.prototype.getRBGA=function(t){var o=document.createElement("canvas").getContext("2d");o.globalAlpha=1,o.fillStyle=t,o.fillRect(0,0,1,1);o=o.getImageData(0,0,1,1).data;return[o[0],o[1],o[2],o[3]]},e);function e(t){var o;t&&(o=void 0,3<=(o="string"==typeof t?this.getRBGA(t):t).length&&(this.r=o[0],this.g=o[1],this.b=o[2],3<o.length&&(this.a=o[3])))}var r=function(t,o){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(t,o)};var n=(u.prototype.merge=function(){for(var o,t,e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{for(var i=function(t){var o="function"==typeof Symbol&&Symbol.iterator,e=o&&t[o],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return{value:(t=t&&r>=t.length?void 0:t)&&t[r++],done:!t}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),a=i.next();!a.done;a=i.next()){var s=a.value;if(s)for(var p in s)s.hasOwnProperty(p)&&this.hasOwnProperty(p)&&(void 0!==s[p]&&null!=s[p]?this[p]instanceof u?this[p].merge(s[p]):this[p]=s[p]:(e=e||new(Object.getPrototypeOf(this).constructor),this[p]=e[p]))}}catch(t){o={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return this},u);function u(){}var i,a,s,p=(r(a=h,s=i=n),a.prototype=null===s?Object.create(s):(f.prototype=s.prototype,new f),h);function f(){this.constructor=a}function h(){var t=null!==i&&i.apply(this,arguments)||this;return t.domain=void 0,t.headers={},t.path="",t.protocol="https",t.queryParams={},t.subdomain="",t}var l=(c.prototype.get=function(){return fetch(this.toString(),{method:"GET",mode:"cors",headers:new Headers(this.options.headers)}).then(function(t){if(t.ok)return t.json();throw new Error("HTTP "+t.status+": "+t.statusText)})},c.prototype.toString=function(){var t=this,o=Object.entries(t.options.queryParams).map(function(t){t=function(t,o){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,n,i=e.call(t),a=[];try{for(;(void 0===o||0<o--)&&!(r=i.next()).done;)a.push(r.value)}catch(t){n={error:t}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(n)throw n.error}}return a}(t,2);return t[0]+"="+t[1]}).join("&"),e=[],r=t.options.path||"";return c.protoRegEx.test(r)?e.push(r):(t.options.domain&&(c.protoRegEx.test(t.options.domain)||(e.push(t.options.protocol+"://"),e.push(t.options.subdomain?t.options.subdomain+".":"")),e.push(t.options.domain)),e.push(t.options.path?"/"+r:"")),e.push(o?"?"+o:""),e.join("")},c.protoRegEx=new RegExp(/^(((file|http|https):\/\/)|blob:)/i),c);function c(t){this.options=(new p).merge(t)}t.Color=o,t.Url=l,Object.defineProperty(t,"__esModule",{value:!0})});
